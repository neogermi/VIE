<!DOCTYPE html><html><head><title>VIE.js</title><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><link rel="stylesheet" media="all" href="../docco.css"></head><body><div id="container"><div id="background"></div><div id="jump_to">Jump To &hellip;<div id="jump_wrapper"><div id="jump_page"><a href="../index.html" class="source"><span class="file_name">README</span></a><a href="../src/Able.js.html" class="source "><span class="base_path">src / </span><span class="file_name">Able.js</span></a><a href="../src/Attribute.js.html" class="source "><span class="base_path">src / </span><span class="file_name">Attribute.js</span></a><a href="../src/Classic.js.html" class="source "><span class="base_path">src / </span><span class="file_name">Classic.js</span></a><a href="../src/Collection.js.html" class="source "><span class="base_path">src / </span><span class="file_name">Collection.js</span></a><a href="../src/Entity.js.html" class="source "><span class="base_path">src / </span><span class="file_name">Entity.js</span></a><a href="../src/Namespace.js.html" class="source "><span class="base_path">src / </span><span class="file_name">Namespace.js</span></a><a href="../src/service/DBPediaService.js.html" class="source "><span class="base_path">src / service / </span><span class="file_name">DBPediaService.js</span></a><a href="../src/service/OpenCalaisService.js.html" class="source "><span class="base_path">src / service / </span><span class="file_name">OpenCalaisService.js</span></a><a href="../src/service/RdfaRdfQueryService.js.html" class="source "><span class="base_path">src / service / </span><span class="file_name">RdfaRdfQueryService.js</span></a><a href="../src/service/RdfaService.js.html" class="source "><span class="base_path">src / service / </span><span class="file_name">RdfaService.js</span></a><a href="../src/service/stanbol/StanbolConnector.js.html" class="source "><span class="base_path">src / service / stanbol / </span><span class="file_name">StanbolConnector.js</span></a><a href="../src/service/stanbol/StanbolConnector_cmsadapter.js.html" class="source "><span class="base_path">src / service / stanbol / </span><span class="file_name">StanbolConnector_cmsadapter.js</span></a><a href="../src/service/stanbol/StanbolConnector_contenthub.js.html" class="source "><span class="base_path">src / service / stanbol / </span><span class="file_name">StanbolConnector_contenthub.js</span></a><a href="../src/service/stanbol/StanbolConnector_enhancer.js.html" class="source "><span class="base_path">src / service / stanbol / </span><span class="file_name">StanbolConnector_enhancer.js</span></a><a href="../src/service/stanbol/StanbolConnector_entityhub.js.html" class="source "><span class="base_path">src / service / stanbol / </span><span class="file_name">StanbolConnector_entityhub.js</span></a><a href="../src/service/stanbol/StanbolConnector_factstore.js.html" class="source "><span class="base_path">src / service / stanbol / </span><span class="file_name">StanbolConnector_factstore.js</span></a><a href="../src/service/stanbol/StanbolConnector_ontonet.js.html" class="source "><span class="base_path">src / service / stanbol / </span><span class="file_name">StanbolConnector_ontonet.js</span></a><a href="../src/service/stanbol/StanbolConnector_rules.js.html" class="source "><span class="base_path">src / service / stanbol / </span><span class="file_name">StanbolConnector_rules.js</span></a><a href="../src/service/stanbol/StanbolConnector_sparql.js.html" class="source "><span class="base_path">src / service / stanbol / </span><span class="file_name">StanbolConnector_sparql.js</span></a><a href="../src/service/StanbolService.js.html" class="source "><span class="base_path">src / service / </span><span class="file_name">StanbolService.js</span></a><a href="../src/service/ZemantaService.js.html" class="source "><span class="base_path">src / service / </span><span class="file_name">ZemantaService.js</span></a><a href="../src/Type.js.html" class="source "><span class="base_path">src / </span><span class="file_name">Type.js</span></a><a href="../src/Util.js.html" class="source "><span class="base_path">src / </span><span class="file_name">Util.js</span></a><a href="../src/VIE.js.html" class="source selected"><span class="base_path">src / </span><span class="file_name">VIE.js</span></a><a href="../src/view/CollectionView.js.html" class="source "><span class="base_path">src / view / </span><span class="file_name">CollectionView.js</span></a><a href="../src/view/EntityView.js.html" class="source "><span class="base_path">src / view / </span><span class="file_name">EntityView.js</span></a><a href="../src/xdr.js.html" class="source "><span class="base_path">src / </span><span class="file_name">xdr.js</span></a></div></div></div><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>VIE.js</h1><div class="filepath">src/</div></th><th class="code"></th></tr></thead><tbody><tr id="section-1"><td class="docs"><div class="pilwrap"><a href="#section-1" class="pilcrow">&#182;</a></div><pre><code>VIE - Vienna IKS Editables
(c) 2011 Henri Bergius, IKS Consortium
(c) 2011 Sebastian Germesin, IKS Consortium
(c) 2011 Szaby Gr√ºnwald, IKS Consortium
VIE may be freely distributed under the MIT license.
For all details and documentation:
http://viejs.org/
</code></pre>
</td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
    <span class="nx">jQuery</span> <span class="o">=</span> <span class="nx">root</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">,</span>
    <span class="nx">Backbone</span> <span class="o">=</span> <span class="nx">root</span><span class="p">.</span><span class="nx">Backbone</span><span class="p">,</span>
    <span class="nx">_</span> <span class="o">=</span> <span class="nx">root</span><span class="p">.</span><span class="nx">_</span><span class="p">;</span></pre></div></td></tr><tr id="section-2"><td class="docs"><div class="pilwrap"><a href="#section-2" class="pilcrow">&#182;</a></div><h2>VIE constructor</h2>

<p>The VIE constructor is the way to initialize VIE for your
application. The instance of VIE handles all management of
semantic interaction, including keeping track of entities,
changes to them, the possible RDFa views on the page where
the entities are displayed, and connections to external
services like Stanbol and DBPedia.</p>

<p>To get a VIE instance, simply run:</p>

<pre><code>var vie = new VIE();
</code></pre>

<p>You can also pass configurations to the VIE instance through
the constructor. For example, to set a different default
namespace to be used for names that don't have a namespace
specified, do:</p>

<pre><code>var vie = new VIE({
    baseNamespace: 'http://example.net'
});
</code></pre>

<h3>Differences with VIE 1.x</h3>

<p>VIE 1.x used singletons for managing entities and views loaded
from a page. This has been changed with VIE 2.x, and now all
data managed by VIE is tied to the instance of VIE being used.</p>

<p>This means that VIE needs to be instantiated before using. So,
when previously you could get entities from page with:</p>

<pre><code>VIE.RDFaEntities.getInstances();
</code></pre>

<p>Now you need to instantiate VIE first. This example uses the
Classic API compatibility layer instead of the <code>load</code> method:</p>

<pre><code>var vie = new VIE();
vie.RDFaEntities.getInstances();
</code></pre>

<p>Currently the Classic API is enabled by default, but it is
recommended to ensure it is enabled before using it. So:</p>

<pre><code>var vie = new VIE({classic: true});
vie.RDFaEntities.getInstances();
</code></pre>
</td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">VIE</span> <span class="o">=</span> <span class="nx">root</span><span class="p">.</span><span class="nx">VIE</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="o">?</span> <span class="nx">config</span> <span class="o">:</span> <span class="p">{};</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">VIE</span><span class="p">.</span><span class="nx">Util</span><span class="p">.</span><span class="nx">UUIDGenerator</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">services</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">entities</span> <span class="o">=</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">Collection</span><span class="p">();</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">entities</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">entityCollection</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">Collection</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">Namespaces</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span></pre></div></td></tr><tr id="section-3"><td class="docs"><div class="pilwrap"><a href="#section-3" class="pilcrow">&#182;</a></div><h3>Namespaces in VIE</h3>

<p>VIE supports different ontologies and an easy use of them.
Namespace prefixes reduce the amount of code you have to
write. In VIE, it does not matter if you access an entitie's
property with 
<code>entity.get('&lt;http://dbpedia.org/property/capitalOf&gt;')</code> or 
<code>entity.get('dbprop:capitalOf')</code> or even 
<code>entity.get('capitalOf')</code> once the corresponding namespace
is registered as <em>baseNamespace</em>.
By default <code>"http://viejs.org/ns/"</code>is set as base namespace.
For more information about how to set, get and list all
registered namespaces, refer to the 
<a href="Namespace.html">Namespaces documentation</a>.</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">this</span><span class="p">.</span><span class="nx">namespaces</span> <span class="o">=</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">Namespaces</span><span class="p">(</span>
        <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">baseNamespace</span><span class="p">)</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">baseNamespace</span> <span class="o">:</span> <span class="s2">&quot;http://viejs.org/ns/&quot;</span><span class="p">,</span>
        </pre></div></td></tr><tr id="section-4"><td class="docs"><div class="pilwrap"><a href="#section-4" class="pilcrow">&#182;</a></div><p>By default, VIE is shipped with common namespace prefixes:</p>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-5"><td class="docs"><div class="pilwrap"><a href="#section-5" class="pilcrow">&#182;</a></div><ul>
<li>owl    : "http://www.w3.org/2002/07/owl#"</li>
<li>rdfs   : "http://www.w3.org/2000/01/rdf-schema#"</li>
<li>rdf    : "http://www.w3.org/1999/02/22-rdf-syntax-ns#"</li>
<li>schema : 'http://schema.org/'</li>
<li>foaf   : 'http://xmlns.com/foaf/0.1/'</li>
<li>geo    : 'http://www.w3.org/2003/01/geo/wgs84_pos#'</li>
<li>dbpedia: "http://dbpedia.org/ontology/"</li>
<li>dbprop : "http://dbpedia.org/property/"</li>
<li>skos   : "http://www.w3.org/2004/02/skos/core#"</li>
<li>xsd    : "http://www.w3.org/2001/XMLSchema#"</li>
<li>sioc   : "http://rdfs.org/sioc/ns#"</li>
<li>dcterms: "http://purl.org/dc/terms/"</li>
</ul>
</td><td class="code"><div class="highlight"><pre>        <span class="p">{</span>
            <span class="nx">owl</span>    <span class="o">:</span> <span class="s2">&quot;http://www.w3.org/2002/07/owl#&quot;</span><span class="p">,</span>
            <span class="nx">rdfs</span>   <span class="o">:</span> <span class="s2">&quot;http://www.w3.org/2000/01/rdf-schema#&quot;</span><span class="p">,</span>
            <span class="nx">rdf</span>    <span class="o">:</span> <span class="s2">&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span><span class="p">,</span>
            <span class="nx">schema</span> <span class="o">:</span> <span class="s1">&#39;http://schema.org/&#39;</span><span class="p">,</span>
            <span class="nx">foaf</span>   <span class="o">:</span> <span class="s1">&#39;http://xmlns.com/foaf/0.1/&#39;</span><span class="p">,</span>
            <span class="nx">geo</span>    <span class="o">:</span> <span class="s1">&#39;http://www.w3.org/2003/01/geo/wgs84_pos#&#39;</span><span class="p">,</span>
            <span class="nx">dbpedia</span><span class="o">:</span> <span class="s2">&quot;http://dbpedia.org/ontology/&quot;</span><span class="p">,</span>
            <span class="nx">dbprop</span> <span class="o">:</span> <span class="s2">&quot;http://dbpedia.org/property/&quot;</span><span class="p">,</span>
            <span class="nx">skos</span>   <span class="o">:</span> <span class="s2">&quot;http://www.w3.org/2004/02/skos/core#&quot;</span><span class="p">,</span>
            <span class="nx">xsd</span>    <span class="o">:</span> <span class="s2">&quot;http://www.w3.org/2001/XMLSchema#&quot;</span><span class="p">,</span>
            <span class="nx">sioc</span>   <span class="o">:</span> <span class="s2">&quot;http://rdfs.org/sioc/ns#&quot;</span><span class="p">,</span>
            <span class="nx">dcterms</span><span class="o">:</span> <span class="s2">&quot;http://purl.org/dc/terms/&quot;</span>
        <span class="p">}</span>
    <span class="p">);</span>


    <span class="k">this</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">Attribute</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">Attributes</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span></pre></div></td></tr><tr id="section-6"><td class="docs"><div class="pilwrap"><a href="#section-6" class="pilcrow">&#182;</a></div><h3>Type hierarchy in VIE</h3>

<p>VIE takes care about type hierarchy of entities
(aka. <em>schema</em> or <em>ontology</em>).
Once a type hierarchy is known to VIE, we can leverage
this information, to easily ask, whether an entity
is of type, e.g., <em>foaf:Person</em> or <em>schema:Place</em>.
For more information about how to generate such a type
hierarchy, refer to the 
<a href="Type.html">Types documentation</a>.</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">this</span><span class="p">.</span><span class="nx">types</span> <span class="o">=</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">Types</span><span class="p">();</span></pre></div></td></tr><tr id="section-7"><td class="docs"><div class="pilwrap"><a href="#section-7" class="pilcrow">&#182;</a></div><p>By default, there is a parent type in VIE, called
<em>owl:Thing</em>. All types automatically inherit from this
type and all registered entities, are of this type.</p>
</td><td class="code"><div class="highlight"><pre>    <span class="k">this</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;owl:Thing&quot;</span><span class="p">);</span></pre></div></td></tr><tr id="section-8"><td class="docs"><div class="pilwrap"><a href="#section-8" class="pilcrow">&#182;</a></div><p>As described above, the Classic API of VIE 1.x is loaded
by default. As this might change in the future, it is
recommended to ensure it is enabled before using it. So:</p>

<pre><code>var vie = new VIE({classic: true});
vie.RDFaEntities.getInstances();
</code></pre>
</td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">classic</span> <span class="o">===</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr><tr id="section-9"><td class="docs"><div class="pilwrap"><a href="#section-9" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Load Classic API as well</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>        <span class="k">this</span><span class="p">.</span><span class="nx">RDFa</span> <span class="o">=</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">ClassicRDFa</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">RDFaEntities</span> <span class="o">=</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">ClassicRDFaEntities</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">EntityManager</span> <span class="o">=</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">ClassicEntityManager</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">cleanup</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>
        <span class="p">};</span>
    <span class="p">}</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-10"><td class="docs"><div class="pilwrap"><a href="#section-10" class="pilcrow">&#182;</a></div><h3>use(service, name)</h3>

<p>This method registers services within VIE. <br />
<strong>Parameters</strong>: <br />
<em>{string|object}</em> <strong>service</strong> The service to be registered. <br />
<em>{string}</em> <strong>name</strong> An optional name to register the service with. If this
is not set, the default name that comes with the service is taken. <br />
<strong>Throws</strong>: <br />
<em>nothing</em> <br />
<strong>Returns</strong>: <br />
<em>{VIE}</em> : The current VIE instance. <br />
<strong>Example usage</strong>:  </p>

<pre><code>var vie = new VIE();
var conf1 = {...};
var conf2 = {...};
vie.use(new vie.StanbolService());
vie.use(new vie.StanbolService(conf1), "stanbol_1");
vie.use(new vie.StanbolService(conf2), "stanbol_2");
// &lt;-- this means that there are now 3 services registered!
</code></pre>
</td><td class="code"><div class="highlight"><pre><span class="nx">VIE</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">use</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">service</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">name</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">service</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Please provide a name for the service!&quot;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">service</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="nx">service</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">?</span> <span class="nx">name</span> <span class="o">:</span> <span class="nx">service</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">service</span><span class="p">.</span><span class="nx">init</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">service</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">services</span><span class="p">[</span><span class="nx">service</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">service</span><span class="p">;</span>
  
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-11"><td class="docs"><div class="pilwrap"><a href="#section-11" class="pilcrow">&#182;</a></div><h3>service(name)</h3>

<p>This method returns the service object that is
registered under the given name. <br />
<strong>Parameters</strong>: <br />
<em>{string}</em> <strong>name</strong> ... <br />
<strong>Throws</strong>: <br />
<em>{Error}</em> if no service could be found. <br />
<strong>Returns</strong>: <br />
<em>{object}</em> : The service to be queried. <br />
<strong>Example usage</strong>:  </p>

<pre><code>var vie = new VIE();
vie.use(new vie.StanbolService(), "stanbol");
var service = vie.service("stanbol");
</code></pre>
</td><td class="code"><div class="highlight"><pre><span class="nx">VIE</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">service</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">services</span><span class="p">[</span><span class="nx">name</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">&quot;Undefined service &quot;</span> <span class="o">+</span> <span class="nx">name</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">services</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-12"><td class="docs"><div class="pilwrap"><a href="#section-12" class="pilcrow">&#182;</a></div><h3>getServicesArray()</h3>

<p>This method returns an array of all registered services. <br />
<strong>Parameters</strong>: <br />
<em>nothing</em> <br />
<strong>Throws</strong>: <br />
<em>nothing</em> <br />
<strong>Returns</strong>: <br />
<em>{array}</em> : An array of service instances. <br />
<strong>Example usage</strong>:  </p>

<pre><code>var vie = new VIE();
vie.use(new vie.StanbolService(), "stanbol");
var services = vie.getServicesArray();
services.length; // &lt;-- 1
</code></pre>
</td><td class="code"><div class="highlight"><pre><span class="nx">VIE</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getServicesArray</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">_</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">services</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="nx">v</span><span class="p">;});</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-13"><td class="docs"><div class="pilwrap"><a href="#section-13" class="pilcrow">&#182;</a></div><h3>load(options)</h3>

<p>This method instantiates a new VIE.Loadable in order to
perform queries on the services. <br />
<strong>Parameters</strong>: <br />
<em>{object}</em> <strong>options</strong> Options to be set. <br />
<strong>Throws</strong>: <br />
<em>nothing</em> <br />
<strong>Returns</strong>: <br />
<em>{VIE.Loadable}</em> : A new instance of VIE.Loadable. <br />
<strong>Example usage</strong>:  </p>

<p>var vie = new VIE();
 vie.use(new vie.StanbolService(), "stanbol");
 var loader = vie.load({...});</p>
</td><td class="code"><div class="highlight"><pre><span class="nx">VIE</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">load</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span> <span class="p">}</span>
<span class="nx">options</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
<span class="k">return</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">Loadable</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-14"><td class="docs"><div class="pilwrap"><a href="#section-14" class="pilcrow">&#182;</a></div><h3>query(options)</h3>

<p>This method instantiates a new VIE.Queryable in order to
perform queries on the services. <br />
<strong>Parameters</strong>: <br />
<em>{object}</em> <strong>options</strong> Options to be set. <br />
<strong>Throws</strong>: <br />
<em>nothing</em> <br />
<strong>Returns</strong>: <br />
<em>{VIE.Queryable}</em> : A new instance of VIE.Queryable. <br />
<strong>Example usage</strong>:  </p>

<p>var vie = new VIE();
 vie.use(new vie.StanbolService(), "stanbol");
 var querier = vie.query({...});</p>
</td><td class="code"><div class="highlight"><pre><span class="nx">VIE</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">query</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span> <span class="p">}</span>
<span class="nx">options</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
<span class="k">return</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">Queryable</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-15"><td class="docs"><div class="pilwrap"><a href="#section-15" class="pilcrow">&#182;</a></div><h3>save(options)</h3>

<p>This method instantiates a new VIE.Savable in order to
perform queries on the services. <br />
<strong>Parameters</strong>: <br />
<em>{object}</em> <strong>options</strong> Options to be set. <br />
<strong>Throws</strong>: <br />
<em>nothing</em> <br />
<strong>Returns</strong>: <br />
<em>{VIE.Savable}</em> : A new instance of VIE.Savable. <br />
<strong>Example usage</strong>:  </p>

<pre><code>var vie = new VIE();
vie.use(new vie.StanbolService(), "stanbol");
var saver = vie.save({...});
</code></pre>
</td><td class="code"><div class="highlight"><pre><span class="nx">VIE</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">save</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span> <span class="p">}</span>
  <span class="nx">options</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">Savable</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-16"><td class="docs"><div class="pilwrap"><a href="#section-16" class="pilcrow">&#182;</a></div><h3>remove(options)</h3>

<p>This method instantiates a new VIE.Removable in order to
perform queries on the services. <br />
<strong>Parameters</strong>: <br />
<em>{object}</em> <strong>options</strong> Options to be set. <br />
<strong>Throws</strong>: <br />
<em>nothing</em> <br />
<strong>Returns</strong>: <br />
<em>{VIE.Removable}</em> : A new instance of VIE.Removable. <br />
<strong>Example usage</strong>:  </p>

<pre><code>var vie = new VIE();
vie.use(new vie.StanbolService(), "stanbol");
var remover = vie.remove({...});
</code></pre>
</td><td class="code"><div class="highlight"><pre><span class="nx">VIE</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">remove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span> <span class="p">}</span>
  <span class="nx">options</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">Removable</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-17"><td class="docs"><div class="pilwrap"><a href="#section-17" class="pilcrow">&#182;</a></div><h3>analyze(options)</h3>

<p>This method instantiates a new VIE.Analyzable in order to
perform queries on the services. <br />
<strong>Parameters</strong>: <br />
<em>{object}</em> <strong>options</strong> Options to be set. <br />
<strong>Throws</strong>: <br />
<em>nothing</em> <br />
<strong>Returns</strong>: <br />
<em>{VIE.Analyzable}</em> : A new instance of VIE.Analyzable. <br />
<strong>Example usage</strong>:  </p>

<pre><code>var vie = new VIE();
vie.use(new vie.StanbolService(), "stanbol");
var analyzer = vie.analyze({...});
</code></pre>
</td><td class="code"><div class="highlight"><pre><span class="nx">VIE</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">analyze</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span> <span class="p">}</span>
  <span class="nx">options</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">Analyzable</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-18"><td class="docs"><div class="pilwrap"><a href="#section-18" class="pilcrow">&#182;</a></div><h3>find(options)</h3>

<p>This method instantiates a new VIE.Findable in order to
perform queries on the services. <br />
<strong>Parameters</strong>: <br />
<em>{object}</em> <strong>options</strong> Options to be set. <br />
<strong>Throws</strong>: <br />
<em>nothing</em> <br />
<strong>Returns</strong>: <br />
<em>{VIE.Findable}</em> : A new instance of VIE.Findable. <br />
<strong>Example usage</strong>:  </p>

<pre><code>var vie = new VIE();
vie.use(new vie.StanbolService(), "stanbol");
var finder = vie.find({...});
</code></pre>
</td><td class="code"><div class="highlight"><pre><span class="nx">VIE</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">find</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span> <span class="p">}</span>
  <span class="nx">options</span><span class="p">.</span><span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">Findable</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-19"><td class="docs"><div class="pilwrap"><a href="#section-19" class="pilcrow">&#182;</a></div><h3>loadSchema(url, options)</h3>

<p>VIE only knows the <em>owl:Thing</em> type by default.
You can use this method to import another
schema (ontology) from an external resource.
(Currently, this supports only the JSON format!!)
As this method works asynchronously, you might want
to register <code>success</code> and <code>error</code> callbacks via the
options. <br />
<strong>Parameters</strong>: <br />
<em>{string}</em> <strong>url</strong> The url, pointing to the schema to import. <br />
<em>{object}</em> <strong>options</strong> Options to be set.
(Set <code>success</code> and <code>error</code> as callbacks.). <br />
<strong>Throws</strong>: <br />
<em>{Error}</em> if the url is not set. <br />
<strong>Returns</strong>: <br />
<em>{VIE}</em> : The VIE instance itself. <br />
<strong>Example usage</strong>:  </p>

<pre><code>var vie = new VIE();
vie.loadSchema("http://schema.rdfs.org/all.json", 
   {
     baseNS : "http://schema.org/",
     success : function () {console.log("success");},
     error  : function (msg) {console.warn(msg);}
   });
</code></pre>
</td><td class="code"><div class="highlight"><pre><span class="nx">VIE</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">loadSchema</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">options</span> <span class="o">=</span> <span class="p">(</span><span class="o">!</span><span class="nx">options</span><span class="p">)</span><span class="o">?</span> <span class="p">{}</span> <span class="o">:</span> <span class="nx">options</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">url</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Please provide a proper URL&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">vie</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="nx">jQuery</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">VIE</span><span class="p">.</span><span class="nx">Util</span><span class="p">.</span><span class="nx">loadSchemaOrg</span><span class="p">(</span><span class="nx">vie</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">baseNS</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">options</span><span class="p">.</span><span class="nx">success</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">vie</span><span class="p">);</span>
            <span class="p">}</span>
         <span class="p">})</span>
        <span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">)</span> <span class="p">{</span> 
            <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">);</span>
                <span class="nx">options</span><span class="p">.</span><span class="nx">error</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">vie</span><span class="p">,</span> <span class="s2">&quot;Could not load schema from URL (&quot;</span> <span class="o">+</span> <span class="nx">url</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">);</span>
            <span class="p">}</span>
         <span class="p">});</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-20"><td class="docs"><div class="pilwrap"><a href="#section-20" class="pilcrow">&#182;</a></div><h3>equals(vieInstance)</h3>

<p>This method tests for equality of two VIE instances. <br />
<strong>Parameters</strong>: <br />
<em>{VIE}</em> <strong>vieInstance</strong> The other VIE instance. <br />
<strong>Throws</strong>: <br />
<em>nothing</em>. <br />
<strong>Returns</strong>: <br />
<em>{boolean}</em> : <code>true</code> if the current instance 
equals to the given instance, false otherwise. <br />
<strong>Example usage</strong>:  </p>

<p>var vie = new VIE();
 var vie2 = new VIE();
 console.log(vie.equals(vie2)); // &lt;-- false
 console.log(vie2.equals(vie)); // &lt;-- false
 console.log(vie.equals(vie)); //  &lt;-- true</p>
</td><td class="code"><div class="highlight"><pre><span class="nx">VIE</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">equals</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">vieInstance</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">&amp;&amp;</span> <span class="nx">vieInstance</span> <span class="o">&amp;&amp;</span> <span class="nx">vieInstance</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">vieInstance</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-21"><td class="docs"><div class="pilwrap"><a href="#section-21" class="pilcrow">&#182;</a></div><p>IE per default doesn't have a console API. For making sure this doesn't break
anything we define it here to not do anything.</p>
</td><td class="code"><div class="highlight"><pre><span class="nx">console</span> <span class="o">=</span> <span class="nx">console</span> <span class="o">||</span> <span class="p">{</span>
    <span class="nx">info</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){},</span>
    <span class="nx">log</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){}</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-22"><td class="docs"><div class="pilwrap"><a href="#section-22" class="pilcrow">&#182;</a></div><p>IE in debug mode does have a console object but no console.warn</p>
</td><td class="code"><div class="highlight"><pre><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span> <span class="o">=</span> <span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">;</span>
<span class="p">}</span></pre></div></td></tr><tr id="section-23"><td class="docs"><div class="pilwrap"><a href="#section-23" class="pilcrow">&#182;</a></div><h2>Running VIE on Node.js</h2>

<p>When VIE is running under Node.js we can use the CommonJS
require interface to load our dependencies automatically.</p>

<p>This means Node.js users don't need to care about dependencies
and can just run VIE with:</p>

<pre><code>var VIE = require('vie');
</code></pre>

<p>In browser environments the dependencies have to be included
before including VIE itself.</p>
</td><td class="code"><div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">exports</span> <span class="o">===</span> <span class="s1">&#39;object&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">exports</span><span class="p">.</span><span class="nx">VIE</span> <span class="o">=</span> <span class="nx">VIE</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">jQuery</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">jQuery</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">Backbone</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">Backbone</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;backbone&#39;</span><span class="p">);</span>
        <span class="nx">Backbone</span><span class="p">.</span><span class="nx">setDomLibrary</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">_</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">_</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;underscore&#39;</span><span class="p">).</span><span class="nx">_</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></div></td></tr></tbody></table><div id="generated">generated Mon Jun 04 2012 12:06:42 GMT+0200 (CEST)  </div><div id="projectname"><a href="../index.html">VIE</a></div></div></body></html>